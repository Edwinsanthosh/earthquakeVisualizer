/* Basic reset + leaflet css import */
@import "leaflet/dist/leaflet.css";

/* ui.css â€” Earthquake Visualizer
   - Light + Dark mode via .dark on <body>
   - Uses CSS variables for theme control
   - Responsive: Desktop sidebar (30%) + Map (70%), mobile map-first layout
*/

/* --------------- Fonts --------------- */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

:root{
  /* Light theme variables */
  --bg: #F8F9FA;          /* app background */
  --panel: #FFFFFF;       /* sidebar / card background */
  --muted: #6B7280;       /* secondary text */
  --text: #0F172A;        /* primary text */
  --border: #E6E9EE;      /* subtle borders */
  --shadow: rgba(2,6,23,0.06);
  --glass: rgba(255,255,255,0.6);
  --accent-low: #FACC15;   /* yellow */
  --accent-mid: #FB923C;   /* orange */
  --accent-high: #EF4444;  /* red */
  --radius: 12px;
  --header-height: 64px;
  --sidebar-width: 340px; /* about 30% on typical desktop */
}

/* Dark theme overrides (add .dark to <body>) */
.dark {
  --bg: #0B1220;          /* deep background */
  --panel: #0F1724;       /* panel */
  --muted: #94A3B8;
  --text: #F8FAFC;
  --border: rgba(255,255,255,0.06);
  --shadow: rgba(2,6,23,0.5);
  --glass: rgba(255,255,255,0.04);
}

/* --------------- Global --------------- */
* { box-sizing: border-box; }
html,body,#root { height:100%; }
body {
  margin:0;
  font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  line-height:1.4;
}

/* Utility */
.container { max-width: 1200px; margin: 0 auto; padding: 0 16px; }

/* --------------- Header --------------- */
.app-header {
  height: var(--header-height);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 0 20px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid var(--border);
  box-shadow: 0 2px 6px var(--shadow);
  position: relative;
  z-index: 1200;
}

.app-title {
  display:flex;
  align-items:center;
  gap:12px;
  font-weight:600;
  font-size:18px;
  color:var(--text);
}

.header-controls {
  display:flex;
  align-items:center;
  gap:10px;
}

/* Toggle button */
.toggle-btn {
  background: none;
  border: 1px solid var(--border);
  color: var(--text);
  padding: 8px 10px;
  border-radius: 10px;
  cursor: pointer;
  font-weight:600;
}
.toggle-btn:hover { transform: translateY(-1px); }

/* --------------- Main layout --------------- */
.main-content {
  display:flex;
  height: calc(100vh - var(--header-height));
  overflow: hidden;
}

/* Sidebar */
.sidebar {
  width: var(--sidebar-width);
  min-width: 260px;
  max-width: 38%;
  background: var(--panel);
  border-right: 1px solid var(--border);
  padding: 18px;
  overflow-y: auto;
  box-shadow: 0 4px 18px var(--shadow);
}

/* For mobile when collapsed we will use .sidebar--collapsed */
.sidebar .sidebar-head {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin-bottom:12px;
}
.sidebar .count {
  font-weight:600;
  color:var(--muted);
  font-size:13px;
}

/* Filters area */
.filters {
  display:flex;
  flex-direction:column;
  gap:8px;
  margin-bottom:14px;
}
.filters label { font-size:13px; color:var(--muted); }
.filters .range {
  width:100%;
}

/* Search */
.search {
  margin-top:8px;
  margin-bottom:12px;
}
.search input {
  width:100%;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid var(--border);
  background: transparent;
  color:var(--text);
  outline:none;
}
.search input::placeholder { color: var(--muted); }

/* Earthquake list */
.quake-list {
  display:flex;
  flex-direction:column;
  gap:10px;
  padding-bottom: 24px;
}

.quake-card {
  display:flex;
  gap:12px;
  align-items:flex-start;
  padding:12px;
  border-radius:10px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  box-shadow: 0 4px 12px rgba(2,6,23,0.04);
  border: 1px solid var(--border);
  cursor:pointer;
  transition: transform .12s ease, box-shadow .12s ease;
}
.quake-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 20px rgba(2,6,23,0.08);
}

.quake-meta {
  display:flex;
  flex-direction:column;
  gap:6px;
  flex:1;
}
.quake-title {
  font-weight:600;
  font-size:14px;
  color:var(--text);
}
.quake-sub {
  font-size:13px;
  color:var(--muted);
}

/* magnitude badge */
.mag-badge {
  min-width:44px;
  height:44px;
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  color: #071025;
  box-shadow: 0 2px 6px rgba(2,6,23,0.06);
  flex-shrink:0;
  font-size:14px;
}

/* use utility classes for colors */
.mag-low { background: var(--accent-low); color:#111827; }   /* yellow */
.mag-mid { background: var(--accent-mid); color:#0b0b0b; }    /* orange */
.mag-high { background: var(--accent-high); color:#fff; }    /* red */

/* small meta row */
.meta-row {
  display:flex;
  gap:8px;
  font-size:12px;
  color:var(--muted);
}

/* --------------- Map area --------------- */
.map-wrapper {
  flex:1;
  position:relative;
}

/* Leaflet container should fill parent */
.leaflet-container {
  width:100%;
  height:100%;
  border-left: 1px solid var(--border);
}

/* Floating filter-bar centered above map */
.filter-bar {
  position:absolute;
  top: 18px;
  left: 50%;
  transform: translateX(-50%);
  z-index:1000;
  display:flex;
  gap:10px;
  padding:8px 12px;
  border-radius:12px;
  background: var(--glass);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: 0 6px 18px rgba(2,6,23,0.08);
}
.filter-bar button {
  padding:8px 12px;
  border-radius:8px;
  background: transparent;
  border: none;
  font-weight:600;
  cursor:pointer;
  color:var(--text);
}
.filter-bar button.active {
  background: linear-gradient(90deg, rgba(0,119,255,0.95), rgba(0,88,210,0.95));
  color:white;
  box-shadow: 0 6px 18px rgba(0,119,255,0.12);
}

/* Legend (floating) */
.map-legend {
  position:absolute;
  right:18px;
  bottom:18px;
  z-index:1000;
  padding:10px 12px;
  border-radius:10px;
  background: var(--panel);
  border:1px solid var(--border);
  box-shadow: 0 8px 24px var(--shadow);
  font-size:13px;
}
.legend-row { display:flex; gap:8px; align-items:center; margin-bottom:6px; }
.legend-swatch { width:12px; height:12px; border-radius:3px; }

/* --------------- Responsive / Mobile --------------- */
@media (max-width: 880px) {
  .sidebar { display:none; } /* hide sidebar on small screens by default */
  .main-content { flex-direction:column; }
  .map-wrapper { height: calc(100vh - var(--header-height)); }
  .filter-bar { top: 12px; left: 12px; transform: none; }
}

/* Collapsible bottom sheet for mobile quake list */
.sheet-toggle {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 12px;
  z-index: 1001;
  background: rgba(255,255,255,0.9);
  border-radius: 999px;
  padding: 8px 12px;
  box-shadow: 0 6px 18px rgba(2,6,23,0.08);
  font-weight:600;
  cursor:pointer;
}

/* The slide-up panel itself */
.mobile-sheet {
  position: fixed;
  left: 0;
  right:0;
  bottom:0;
  height: 64vh;
  transform: translateY(100%);
  transition: transform .28s cubic-bezier(.2,.9,.3,1);
  background: var(--panel);
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
  box-shadow: 0 -12px 30px rgba(2,6,23,0.12);
  z-index: 1500;
  padding: 16px;
  overflow-y: auto;
}
.mobile-sheet.open { transform: translateY(0%); }

/* --------------- Buttons, inputs, small utilities --------------- */
.button {
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:10px;
  border:1px solid var(--border);
  background: var(--panel);
  color: var(--text);
  cursor:pointer;
  font-weight:600;
}
.button.ghost { background:transparent; }
.small { font-size:13px; padding:6px 10px; }

/* helper spacing */
.px-2 { padding-left:8px; padding-right:8px; }
.py-1 { padding-top:6px; padding-bottom:6px; }

/* --------------- Leaflet marker override (popups styling) --------------- */
/* Improve popup card look */
.leaflet-popup-content-wrapper {
  background: var(--panel) !important;
  color: var(--text) !important;
  border-radius: 10px !important;
  box-shadow: 0 8px 20px var(--shadow) !important;
  border: 1px solid var(--border) !important;
  padding: 10px 12px !important;
  font-size: 13px;
}
.leaflet-popup-tip { display:none; }

/* --------------- Small animations --------------- */
.fade-in { animation: fadeIn .32s ease both; }
@keyframes fadeIn { from { opacity:0; transform: translateY(6px);} to { opacity:1; transform:none;} }

/* --------------- Map marker helper sizes (not used for CircleMarker) --------------- */
/* (If you use custom icon images, use these classes) */
.icon-sm { width:20px; height:20px; }
.icon-md { width:30px; height:30px; }
.icon-lg { width:42px; height:42px; }

#map {
  height: 100vh;
  width: 100%;
}

html, body, #root, .map-container {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
}

.leaflet-container {
  width: 100%;
  height: 100vh !important; /* ensure visible height */
}
